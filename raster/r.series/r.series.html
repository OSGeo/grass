<h2>DESCRIPTION</h2>


<em>r.series</em> makes each output cell value a function of the values
assigned to the corresponding cells in the input raster map layers.
Following methods are available:

<ul> 
 <li>average: average value
 <li>count: count of non-NULL cells
 <li>median: median value
 <li>mode: most frequently occuring value
 <li>minimum: lowest value
 <li>maximum: highest value
 <li>range: range of values (max - min)
 <li>stddev: standard deviation
 <li>sum: sum of values
 <li>variance: statistical variance
 <li>diversity: number of different values
 <li>slope: linear regression slope
 <li>offset: linear regression offset
 <li>detcoeff: linear regression coefficient of determination
 <li>min_raster: raster map number with the minimum time-series value
 <li>max_raster: raster map number with the maximum time-series value
 </ul> 

<h2>NOTES</h2>

With <em>-n</em> flag, any cell for which any of the corresponding input cells are
NULL is automatically set to NULL (NULL propagation). The aggregate function is not
called, so all methods behave this way with respect to the <em>-n</em> flag.
<p>
Without <em>-n</em> flag, the complete list of inputs for each cell (including
NULLs) is passed to the aggregate function. Individual aggregates can
handle data as they choose. Mostly, they just compute the aggregate
over the non-NULL values, producing a NULL result only if all inputs
are NULL.
<p>
The <em>min_raster</em> and <em>max_raster</em> methods generate a map with the
number of the raster map that holds the minimum/maximum value of the
time-series. The numbering starts at <em>0</em> up to <em>n</em> for the
first and the last raster listed in <em>input=</em>, respectively. 
<p>
If the <em>range=</em> option is given, any values which fall outside
that range will be treated as if they were NULL.
The <em>range</em> parameter can be set to <em>low,high</em> thresholds:
values outside of this range are treated as NULL (i.e., they will be
ignored by most aggregates, or will cause the result to be NULL if -n is given).
The <em>low,high</em> thresholds are floating point, so use <em>-inf</em> or
<em>inf</em> for a single threshold (e.g., <em>range=0,inf</em> to ignore
negative values, or <em>range=-inf,-200.4</em> to ignore values above -200.4).

<h2>EXAMPLES</h2>

Using <em>r.series</em> with wildcards:
<br>
<div class="code"><pre>
r.series input="`g.mlist pattern='insitu_data.*' fs=,`"
    output=insitu_data.stddev method=stddev
</pre></div>
<p>

Note the <em>g.mlist</em> script also supports regular expressions for 
selecting map names.

<p>
Example for multiple aggregates to be computed in one run (3 resulting aggregates from two input maps):
<div class="code"><pre>
r.series in=one,two out=result_avg,res_slope,result_count meth=sum,slope,count
</pre></div>

<h2>SEE ALSO</h2>

<em><a href="g.mlist.html">g.mlist</a></em>,
<em><a href="g.region.html">g.region</a></em>

<h2>AUTHOR</h2>

Glynn Clements

<p><i>Last changed: $Date$</i>
