<h2>DESCRIPTION</h2>

<b><em>r.topmodel</em></b> simulates TOPMODEL which is a physically based
hydrologic model.

<h3>Selected Parameters:</h3>

<dl>
<dt><b>parameters</b></dt>
<dd>
This file contains TOPMODEL parameters that describe the study area. Any lines
starting with a # sign or empty lines are ignored.
<div class="code"><pre>
# Subcatchment name
Subcatchment 1

################################################################################
# A [m^2]: Total subcatchment area
3.31697E+07

################################################################################
# qs0 [m/h]: Initial subsurface flow per unit area
#		"The first streamflow input is assumed to represent
#		 only the subsurface flow contribution in the watershed."
#								- Liaw (1988)
0.000075

# lnTe [ln(m^2/h)]: Areal average of ln(T0)
4.

# m [m]: Scaling parameter
0.0125

# Sr0 [m]: Initial root zone storage deficit
0.0025

# Srmax [m]: Maximum root zone storage deficit
0.041

# td [h]: Unsaturated zone time delay per unit storage deficit if greater than 0
#  OR
# -alpha: Effective vertical hydraulic gradient if not greater than 0.
#
# For example, -10 means alpha=10.
60.

# vch [m/h]: Main channel routing velocity
20000.

# vr [m/h]: Internal subcatchment routing velocity
10000.

################################################################################
# infex: Calculate infiltration excess if not zero (integer)
0

# K0 [m/h]: Surface hydraulic conductivity
2.

# psi [m]: Wetting front suction
0.1

# dtheta: Water content change across the wetting front
0.1

################################################################################
# d [m]: Distance from the catchment outlet
#		The first value should be the mainstream distance from
#		the subcatchment outlet to the catchment outlet.
# Ad_r:  Cumulative area ratio of subcatchment (0.0 to 1.0)
#		The first and last values should be 0 and 1, respectively.

#   d  Ad_r
    0   0.0
 1000   0.2
 2000   0.4
 3000   0.6
 4000   0.8
 5000   1.0
</pre></div>
</dd>

<dt><b>input</b><dt>
<dd>
This file contains observed weather data.
<div class="code"><pre>
# dt [h]: Time step
24

################################################################################
# R [m/dt]:  Rainfall
# Ep [m/dt]: Potential evapotranspiration

# R             Ep
0.000033        0.000000
0.000053        0.011938
0.004821        0.000000
.
.
.
</pre></div>
</dd>

<dt><b>timestep</b></dt>
<dd>
If a time step is specified, output will be generated for the specific time
step in addition to the summary and total flows at the outlet. This parameter
can be combined with topidxclass to specify a time step and topographic index
class at the same time. If no topidxclass is given, output will be generated
for all the topographic index classes.
</dd>

<dt><b>topidxclass</b></dt>
<dd>
If a topographic index class is specified, output will be generated for the
given topographic index class. This parameter can be combined with timestep. If
no timestep is given, output will be generated for all the time steps.
</dd>

<dt><b>topidx</b>, <b>ntopidxclasses</b>, <b>outtopidxstats</b></dt>
<dd>
The <b>topidx</b> map can optionally be used for creating a new topographic
index statistics file. This map has to be already clipped to the catchment
boundary. The entire range of topographic index values will be divided into
<b>ntopidxclasses</b> and the area ratio of each class will be reported in the
<b>outtopidxstats</b> file. These three parameters can be omitted unless a new
topidxstats file needs to be created.
</dd>
</dl>


<h2>REFERENCES</h2>

Cho, H., 2000. GIS Hydrological Modeling System by Using Programming Interface
of GRASS. Master's Thesis, Department of Civil Engineering, Kyungpook National
University, Korea.
<p>
Beven K., R. Lamb, P. Quinn, R. Romanowicz, and J. Freer, 1995. TOPMODEL, in
V.P. Singh (Ed.). Computer Models of Watershed Hydrology. Water Resources
Publications.
<p>
Liaw, S.C., 1988. Streamflow Simulation Using a Physically Based Hydrologic
Model in Humid Forested Watersheds. Dissertation, Colorado State University,
CO. p163.


<h2>SEE ALSO</h2>
<em>
<a href="r.fill.dir.html">r.fill.dir</a>,
<a href="r.mapcalc.html">r.mapcalc</a>,
<a href="r.topidx.html">r.topidx</a>
</em>
<br>
<a href="http://idea.isnew.info/grass_gis/r.topmodel">How to run r.topmodel</a>


<h2>AUTHORS</h2>

<a href="mailto:grass4u@gmail com">Huidae Cho</a><br>
Hydro Laboratory, Kyungpook National University, South Korea
<p>
Based on TMOD9502.FOR by Keith Beven.

<p><i>Last changed: $Date$</i>
