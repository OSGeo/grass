<H2>DESCRIPTION</H2>

<B><EM>r.topmodel</EM></B> simulates TOPMODEL which is a physically based
hydrologic model.
<P>
Note: (i) means input; (o) means output; (o/i) means input or output
<P>
The <B>-i</B> flag indicates that input data are given for (o/i).  Without this
flag, all inputs (i) and intermediate outputs (o/i) should be given.  For
example, [belevation] map will be created from [elevation] and [basin] in every
run.  However, given the same [elevation] and [basin], [belevation] output will
be the same all the time, so r.topmodel can directly take [belevation] as an
input with this flag to save time.
<P>

<H3>Selected Parameters:</H3>

<DL>
<DT><B>depressionless</B> map is created as follows:</DT>
<DD><div class="code"><pre>
r.fill.dir input=elevation elev=depressionless dir=direction type=grass
</pre></div>
This option can be omitted if [elevation] map is already depressionless.
</DD>
<P>

<DT><B>belevation</B> map is created from [elevation] with [basin] mask applied:</DT>
<DD><div class="code"><pre>
r.mapcalc "belevation = if(basin == 0 || isnull(basin), null(), elevation)"
</pre></div></DD>
<P>

<DT><B>topidx</B> map is created as follows:</DT>
<DD><div class="code"><pre>
r.topidx input=elevation output=topidx
</pre></div></DD>
<P>

<DT><B>Qobs</B></DT>
<DD>Compare simulated flows with observed flows and calculate model
efficiency.
</DD>
<P>
</DL>

<H2>SEE ALSO</H2>
<EM><A HREF="r.fill.dir.html">r.fill.dir</A></EM>,
<EM><A HREF="r.mapcalc.html">r.mapcalc</A></EM>,
<EM><A HREF="r.topidx.html">r.topidx</A></EM>,
<EM><A HREF="http://geni.ath.cx/r.topmodel.html">How to run r.topmodel</A></EM>

<H2>AUTHORS</H2>
Main algorithm sources are rewritten in C based on TMOD9502.FOR.
<BR>
Thanks to Keith Beven.
<P>
GRASS port by <A HREF=mailto:grass4u gmail com>Huidae Cho</A><BR>
Hydro Laboratory, Kyungpook National University, South Korea

<p><i>Last changed: $Date$</i>
