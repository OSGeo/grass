<h2>DESCRIPTION</h2>

<em>r.texture</em> - Creates map raster with textural features for
user-specified raster map layer. The module calculates textural features 
based on spatial dependence matrices at 0, 45, 90, and 135 
degrees for a <em>distance</em> (default = 1).
<p>
<em>r.texture</em> assumes grey levels ranging from 0 to 255 as input. 
The input is rescaled to 0 to 255 if needed.
<p>
In general, several variables constitute texture: differences in grey level values,
coarseness as scale of grey level differences, presence or lack of directionality
and regular patterns.

<p>
<em>r.texture</em> reads a GRASS raster map as input and calculates textural 
features based on spatial
dependence matrices for north-south, east-west, northwest, and southwest
directions using a side by side neighborhood (i.e., a distance of 1). Be
sure to carefully set your resolution (using 
<a href="g.region.html">g.region</a>) before running this program, or else your
computer could run out of memory.  Also, make sure that your raster map has
no more than 255 categories.  The output consists into four images for each
textural feature, one for every direction.</p>
<p>
A commonly used texture model is based on the so-called grey level co-occurrence
matrix. This matrix is a two-dimensional histogram of grey levels
for a pair of pixels which are separated by a fixed spatial relationship. 
The matrix approximates the joint probability distribution of a pair of pixels.
Several texture measures are directly computed from the grey level co-occurrence
matrix. 
<p>
The following are brief explanations of texture measures:
<p>
<ul>
<li> Angular Second Moment (ASM, also called Uniformity):
 This is a measure of local homogeneity and the opposite of Entropy.
 High values of ASM occur when the pixels in the moving window are
 very similar.
 <br>
 Note: The square root of the ASM is sometimes used as a texture measure,
 and is called Energy.</li>

<li> Inverse Difference Moment (IDM, also called Homogeneity):
 This measure relates inversely to the contrast measure. It is a direct measure of the
 local homogeneity of a digital image. Low values are associated with low homogeneity
 and vice versa.</li>

<li> Contrast (Contr):
 This measure analyses the image contrast (locally gray-level variations) as
 the linear dependency of grey levels of neighboring pixels (similarity). Typically high,
 when the scale of local texture is larger than the <em>distance</em>.</li>

<li> Correlation (Corr):
 This measure  analyses the linear dependency of grey levels of neighboring
 pixels. Typically high, when the scale of local texture is larger than the
 <em>distance</em>.</li>

<li> Variance (Var): A measure of gray tone variance within the moving
  window (second-order moment about the mean)</li>

<li> Difference Variance (DV): ...</li>

<li> Sum Variance (SV): ... </li>

<li> Sum Average (SA): ...</li>

<li> Entropy (Entr):
 This measure analyses the randomness. It is high when the values of the moving
 window have similar values. It is low when the values are close to either 0 or 1 (i.e. when the
 pixels in the local window are uniform).</li>

<li> Difference Entropy (DE): ...</li>

<li> Sum Entropy (SE): ...</li>

<li> Information Measures of Correlation (MOC): ...</li>

<li> Maximal Correlation Coefficient (MCC): ...</li>
</ul>
   
<h2>NOTES</h2>
Algorithm taken from:<br>

Haralick, R.M., K. Shanmugam, and I. Dinstein. 1973. Textural features for
    image classification. <em>IEEE Transactions on Systems, Man, and
    Cybernetics</em>, SMC-3(6):610-621.

<p>The code was taken by permission from <em>pgmtexture</em>, part of
    PBMPLUS (Copyright 1991, Jef Poskanser and Texas Agricultural Experiment
    Station, employer for hire of James Darrell McCauley). <br>
    Man page of <a href="http://netpbm.sourceforge.net/doc/pgmtexture.html">pgmtexture</a></p>

<h2>EXAMPLE</h2>

Calculation of Angular Second Moment of B/W orthophoto (North Carolina data set):

<div class="code"><pre>
g.region rast=ortho_2001_t792_1m -p
# set grey level color table 0% black 100% white
r.colors ortho_2001_t792_1m color=grey
# extract grey levels
r.mapcalc "ortho_2001_t792_1m.greylevel = #ortho_2001_t792_1m"
# texture analysis
r.texture ortho_2001_t792_1m.greylevel prefix=ortho_texture -a 
# display
g.region n=221461 s=221094 w=638279 e=638694
d.shadedmap drape=ortho_texture_ASM_0 rel=ortho_2001_t792_1m
</pre></div>

This calculates four maps (requested texture at four orientations):
ortho_texture_ASM_0, ortho_texture_ASM_45, ortho_texture_ASM_90, ortho_texture_ASM_135.


<h2>BUGS</h2>
- The program can run incredibly slow for large raster maps.
<p>
- The method for finding the maximal correlation coefficient, which
    requires finding the second largest eigenvalue of a matrix Q, does not
    always converge.

<h2>REFERENCES</h2>
<b>Haralick, R.M., K. Shanmugam, and I. Dinstein</b> (1973). Textural features for
    image classification. <em>IEEE Transactions on Systems, Man, and
    Cybernetics</em>, SMC-3(6):610-621.
<p>
<b>Bouman, C. A., Shapiro, M.</b>,(March
    1994).A Multiscale Random Field Model for Bayesian Image
    Segmentation, IEEE Trans. on Image Processing, vol. 3, no.2.
<p>
<b>Haralick, R.</b>, (May 1979). <i>Statistical and structural approaches to texture</i>,
   Proceedings of the IEEE, vol. 67, No.5, pp. 786-804</p>
<p>
<b>Hall-Beyer, M.</b> (2007). <a href="http://www.fp.ucalgary.ca/mhallbey/tutorial.htm">The GLCM Tutorial Home Page</a>
  (Grey-Level Co-occurrence Matrix texture measurements). University of Calgary, Canada
     
<h2>SEE ALSO</h2>

<em><a href="i.smap.html">i.smap</a></em>,
<em><a href="i.gensigset.html">i.gensigset</a></em>,
<em><a href="i.pca.html">i.pca</a></em>,
<em><a href="r.digit.html">r.digit</a></em>,
<em><a href="i.group.html">i.group</a></em>

<h2>AUTHOR</h2>
<a href="mailto:antoniol@ieee.org">G. Antoniol</a> - RCOST (Research Centre on Software Technology - Viale Traiano - 82100 Benevento)<br>
<a href="mailto:basco@unisannio.it">C. Basco</a> -  RCOST (Research Centre on Software Technology - Viale Traiano - 82100 Benevento)<br>
<a href="mailto:ceccarelli@unisannio.it">M. Ceccarelli</a> - Facolta di Scienze, Universita del Sannio, Benevento

<p><i>Last changed: $Date$</i></p>
