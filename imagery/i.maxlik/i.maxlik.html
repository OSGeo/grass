<h2>DESCRIPTION</h2>

<em>i.maxlik</em> is a maximum-likelihood discriminant
analysis classifier.  It can be used to perform the second
step in either an unsupervised or a supervised image
classification.

<p>
Either image classification methods are performed in two
steps.  The first step in an unsupervised image
classification is performed by
<em><a href="i.cluster.html">i.cluster</a></em>; the
first step in a supervised classification is executed by
the GRASS program <em>
<a href="i.class.html">i.class</a></em>. In both cases,
the second step in the image classification procedure is
performed by <em>i.maxlik</em>.

<p>
In an unsupervised classification, the maximum-likelihood
classifier uses the cluster means and covariance matrices
from the <em><a href="i.cluster.html">i.cluster</a></em>
signature file to determine to which category (spectral
class) each cell in the image has the highest probability
of belonging. In a supervised image classification, the
maximum-likelihood classifier uses the region means and
covariance matrices from the spectral signature file
generated by <em>
<a href="i.class.html">i.class</a></em>, based on regions
(groups of image pixels) chosen by the user, to determine
to which category each cell in the image has the highest
probability of belonging.

<p>
In either case, the raster map layer output by
<em>i.maxlik</em> is a classified image in which each cell
has been assigned to a spectral class (i.e., a category).
The spectral classes (categories) can be related to
specific land cover types on the ground.

<p>
The program will run non-interactively if the user
specifies the names of raster map layers, i.e., group and
subgroup names, seed signature file name, result
classification file name, and any combination of
non-required options in the command line, using the form

<dl>
<dd>
<b>i.maxlik</b>[<b>-q</b>] <b>group=</b><em>name</em> 
<b>subgroup=</b><em>name</em>
<b>sigfile=</b><em>name</em> <b>class=</b><em>name</em> 
[<b>reject=</b><em>name</em>]
</dl>

where each flag and options have the meanings stated below.

<p>
Alternatively, the user can simply type <em>i.maxlik</em>
in the command line without program arguments. In this case
the user will be prompted for the program parameter
settings; the program will run foreground.

<h2>OPTIONS</h2>

<h3>Parameters:</h3>

<dl>

<dt><b>group=</b><em>name</em> 

<dd>The <a href="i.group.html">imagery</a> group 
contains the subgroup to be classified.

<dt><b>subgroup=</b><em>name</em> 

<dd>The subgroup contains image files, which were used to create 
the signature file
in the program <em><a href="i.cluster.html">i.cluster</a></em>, 
<em><a href="i.class.html">i.class</a></em>, or 
<em><a href="i.gensig.html">i.gensig</a></em> to be classified.

<dt><b>sigfile=</b><em>name</em> 

<dd>The name of the signatures to be used for the
classification. The signature file contains the cluster and
covariance matrices that were calculated by the GRASS
program <em><a href="i.cluster.html">i.cluster</a></em>
(or the region means and covariance matrices generated by
<em><a href="i.class.html">i.class</a></em>, if the
user runs a supervised classification). These spectral
signatures are what determine the categories (classes) to
which image pixels will be assigned during the
classification process.

<dt><b>class=</b><em>name</em> 

<dd>The name of a raster map holds the classification
results. This new raster map layer will contain categories
that can be related to land cover categories on the
ground.

<dt><b>reject=</b><em>name</em> 

<dd>The optional name of a raster map holds the reject
threshold results. This is the result of a chi square test
on each discriminant result at various threshold levels of
confidence to determine at what confidence level each cell
classified (categorized). It is the reject threshold map
layer, and contains the index to one calculated confidence level for
each classified cell in the classified image. 16 confidence intervals 
are predefined, and the reject map is to be interpreted as 1 = keep and 
16 = reject. One of the possible uses for this map layer is as a mask, 
to identify cells in the classified image that have a low
probability (high reject index) of being assigned to the correct 
class.
</dl>


<h2>NOTES</h2>

The maximum-likelihood classifier assumes that the spectral 
signatures for each class (category) in each band file
are normally distributed (i.e., Gaussian in nature).
Algorithms, such as
<em><a href="i.cluster.html">i.cluster</a></em>,
<em><a href="i.class.html">i.class</a></em>,
or <em><a href="i.gensig.html">i.gensig</a></em>,
however, can create signatures that are not valid 
distributed (more likely with 
<em><a href="i.class.html">i.class</a>).</em>
If this occurs, 
<em>i.maxlik</em>
will reject them and display a warning message.

<p>
This program runs interactively if the user types
<em>i.maxlik</em> only. If the user types <em>i.maxlik</em>
along with all required options, it will overwrite the
classified raster map without prompting if this map
existed.

<h2>EXAMPLE</h2>

Completion of the unsupervised classification of
a LANDSAT subscene (VIZ, NIR, MIR channels) in North Carolina
(see <em>i.cluster</em> manual page for the first part):

<div class="code"><pre>
i.maxlik group=my_lsat7_2002 subgroup=my_lsat7_2002 sigfile=sig_clust_lsat2002 \
          class=lsat7_2002_clust_classes reject=lsat7_2002_clust_classes.rej

# Visually check result
d.mon wx0
d.rast.leg lsat7_2002_clust_classes
d.rast.leg lsat7_2002_clust_classes.rej
</pre></div>

<h2>SEE ALSO</h2>

The GRASS 4 <em>
<a href="http://grass.osgeo.org/gdp/imagery/grass4_image_processing.pdf">Image
Processing manual</a></em>

<p>
<em>
<a href="i.class.html">i.class</a>,
<a href="i.cluster.html">i.cluster</a>,
<a href="i.gensig.html">i.gensig</a>,
<a href="i.group.html">i.group</a>,
<a href="r.kappa.html">r.kappa</a>
</em>

<h2>AUTHORS</h2>

Michael Shapiro,
U.S.Army Construction Engineering 
Research Laboratory

<br>
Tao Wen, 
University of Illinois at Urbana-Champaign,
Illinois

<p>
<i>Last changed: $Date$</i>
