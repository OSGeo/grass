find_package(FLEX REQUIRED)

find_package(BISON REQUIRED)



find_package(GDAL REQUIRED)
add_library(GDAL SHARED IMPORTED GLOBAL)
set_property( TARGET GDAL PROPERTY IMPORTED_LOCATION ${GDAL_LIBRARY} )
set_property( TARGET GDAL PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${GDAL_INCLUDE_DIRS} )



find_package(PNG REQUIRED)
add_library(LIBPNG SHARED IMPORTED GLOBAL)
set_property( TARGET LIBPNG PROPERTY IMPORTED_LOCATION ${PNG_LIBRARY} )
set_property( TARGET LIBPNG PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${PNG_INCLUDE_DIR} )



find_package(ZLIB REQUIRED)
add_library(ZLIB SHARED IMPORTED GLOBAL)
set_property( TARGET ZLIB PROPERTY IMPORTED_LOCATION ${ZLIB_LIBRARY} )
set_property( TARGET ZLIB PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${ZLIB_INCLUDE_DIR} )



find_library(M_LIBRARY m)
add_library(LIBM SHARED IMPORTED GLOBAL)
set_property( TARGET LIBM PROPERTY IMPORTED_LOCATION ${M_LIBRARY} )
#set_property( TARGET LIBM PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${M_INCLUDE_DIR} )



find_package(PROJ4 REQUIRED)
add_library(PROJ4 SHARED IMPORTED GLOBAL)
set_property( TARGET PROJ4 PROPERTY IMPORTED_LOCATION ${PROJ4_LIBRARY} )
set_property( TARGET PROJ4 PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${PROJ4_INCLUDE_DIR} )



find_package(Freetype REQUIRED)
add_library(FREETYPE SHARED IMPORTED GLOBAL)
set_property( TARGET FREETYPE PROPERTY IMPORTED_LOCATION ${FREETYPE_LIBRARY} )
set_property( TARGET FREETYPE PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${FREETYPE_INCLUDE_DIRS} )



find_package(FFTW REQUIRED)
add_library(FFTW SHARED IMPORTED GLOBAL)
set_property( TARGET FFTW PROPERTY IMPORTED_LOCATION ${FFTW_LIBRARIES} )
set_property( TARGET FFTW PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${FFTW_INCLUDE_DIR} )


if(WITH_CAIRO)
  find_package(Cairo REQUIRED)
  add_library(CAIRO SHARED IMPORTED GLOBAL)
  set_property( TARGET CAIRO PROPERTY IMPORTED_LOCATION ${CAIRO_LIBRARIES} )
  set_property( TARGET CAIRO PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${CAIRO_INCLUDE_DIRS} )
endif()

if(WITH_X11)
  find_package(X11 REQUIRED)
  add_library(X11 SHARED IMPORTED GLOBAL)
  set_property( TARGET X11 PROPERTY IMPORTED_LOCATION ${X11_LIBRARIES} )
  set_property( TARGET X11 PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${X11_INCLUDE_DIR} )

  find_package(TIFF REQUIRED)
  add_library(TIFF SHARED IMPORTED GLOBAL)
  set_property( TARGET TIFF PROPERTY IMPORTED_LOCATION ${TIFF_LIBRARY} )
  set_property( TARGET TIFF PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${TIFF_INCLUDE_DIR} )  
endif()


if(WITH_OPENGL)
  find_package(OpenGL REQUIRED)
  add_library(OPENGL SHARED IMPORTED GLOBAL)
  set_property( TARGET OPENGL PROPERTY IMPORTED_LOCATION ${OPENGL_LIBRARIES} )
  set_property( TARGET OPENGL PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${OPENGL_INCLUDE_DIR} )

  find_package(TIFF REQUIRED)
  add_library(TIFF SHARED IMPORTED GLOBAL)
  set_property( TARGET TIFF PROPERTY IMPORTED_LOCATION ${TIFF_LIBRARY} )
  set_property( TARGET TIFF PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${TIFF_INCLUDE_DIR} )
  
endif()


find_package(GEOS REQUIRED)
add_library(GEOS SHARED IMPORTED GLOBAL)
set_property( TARGET GEOS PROPERTY IMPORTED_LOCATION ${GEOS_LIBRARIES} )
set_property( TARGET GEOS PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${GEOS_INCLUDE_DIR} )


#find_package (PythonLibs REQUIRED )

find_package (PythonInterp REQUIRED )
#find_package ( Numpy )

if (PYTHON_VERSION_MAJOR GREATER 2 )
  message(FATAL_ERROR "cannot use python 3 or higher")
endif()





# message("found gdal")

# if(TARGET LIB_GDAL)
#   message("GRASSLIB_DEPEND=LIB_GDAL")
#   get_target_property(VAR LIB_GDAL INTERFACE_INCLUDE_DIRECTORIES)
#   message("VAR=${VAR}")
# endif()

#$<TARGET_PROPERTY:LIB_GDAL,INTERFACE_INCLUDE_DIRECTORIES> 
#$<TARGET_PROPERTY:LIB_GDAL,IMPORTED_LOCATION> 



