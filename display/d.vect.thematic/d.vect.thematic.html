<h2>DESCRIPTION</h2>

<em>d.vect.thematic</em> draws thematic choropleth vector maps based 
on an attribute column or an expression involving several columns. 
It takes a list of class <b>breaks</b> (excluding the minimum and maximum 
values) and a list of <b>colors</b> to apply to the classes (has to be the 
number of class breaks + 1).
<p>
Instead of a list of class breaks, the user can also chose a
classification <b>algorithm</b> and a number of classes
(<b>nbclasses</b>). See the
<em><a href="v.class.html">v.class</a></em> for more information on
these different algorithms.

<p>
<b>Important note:</b> The module currently supports only <i>area</i>
vector type. For displaying thematic choropleth vector maps of other
types (points, lines) can be
used <em><a href="https://grass.osgeo.org/grass7/manuals/addons/d.vect.thematic2.html">d.vect.thematic2</a></em>
available in AddOns
via <em><a href="g.extension.html">g.extension</a></em>.

<h2>NOTES</h2>

The <b>-l</b> flag instructs the module to print legend information
(<i>class min | class max | number of observations in class |
color</i>) to standard output for further use in graphical software.
When combined with the <b>-e</b> flag, the legend information will
be extended with some additional statistical information. If the
<b>-n</b> flag is set, the module will only print the legend 
information without drawing the map. If the user gives a
<b>legendfile</b>, the module will
write <em><a href="d.graph.html">d.graph</a></em> instructions for
painting a legend into that file.


<h2>EXAMPLES</h2>

<h3>Thematic map with classes</h3>

<div class="code"><pre>
d.vect.thematic -l map=communes3 column=pop \
  breaks=111393.250000,222785.500000,334177.750000 \
  colors="255:0:0,0:255:0,0:0:255,0,0,0"
</pre></div>

<h3>Thematic map with calculated class breaks</h3>

The following example uses a calculated attribute (<tt>density = 
pop/area</tt>) and the standard deviation algorithm to calculate class 
breaks for 5 classes:

<div class="code"><pre>
d.vect.thematic -l map=communes2 column=pop/area algorithm=std \
  nbclasses=5 colors="0:0:255,50:100:255,255:100:50,255:0:0,156:0:0"
</pre></div>

To actually draw the legend for the polygons in the graphical
display, the procedure is:

<div class="code"><pre>
# first save legend instructions to a file	
d.vect.thematic -n map=communes2 column=pop/area algorithm=std \
  nbclasses=5 colors="0:0:255,50:100:255,255:100:50,255:0:0,156:0:0" \
  legendfile=legend_pop_dens  

# open a monitor
d.mon wx0

# draw the map
d.vect.thematic map=communes2 column=pop/area algorithm=std \
  nbclasses=5 colors="0:0:255,50:100:255,255:100:50,255:0:0,156:0:0"

# draw the legend
d.graph input=legend_pop_dens
</pre></div>

In order to further enhance this legend, edit the legend file accordingly
and rerun the process.

<h3>Thematic map with calculated class breaks</h3>

Example for the North Carolina sample dataset, colorizing basin polygons by
average elevation:

<div class="code"><pre>
# create watersheds from elevation map
r.watershed elevation=elevation threshold=10000 basin=basins_10k

# convert raster to vector
r.to.vect input=basins_10k output=basins_10k type=area column=basin_num

# upload raster statistics to each polygon in vector map
v.rast.stats map=basins_10k raster=elevation column_prefix=elev_

# save legend instructions to a file
d.vect.thematic -n map=basins_10k column=elev_average algorithm=int \
  nclasses=5 colors=228:26:28,55:126:184,77:175:74,152:78:163,255:127:0 \
  legendfile=d_vect_thematic_leg.txt

# open a graphical display
d.mon wx0

# draw outline of polygons
d.vect map=basins_10k type=boundary

# draw color fill
d.vect.thematic map=basins_10k column=elev_average algorithm=int \
  nclasses=5 colors=228:26:28,55:126:184,77:175:74,152:78:163,255:127:0

# set a different font (list fonts with: d.font -l)
export GRASS_FONT="sans"

# and finally draw legend, but edit the legend file first (for example:
# set size to 20, remove feature counts and most decimal digits)
d.graph input=d_vect_thematic_leg.txt
</pre></div>

<center>
<a href="d_vect_thematic.png">
<img src="d_vect_thematic.png" alt="d_vect_thematic example" border=1 width="600"></a>
<br>
<i>Thematic map of area sizes</i>
</center>

<h2>SEE ALSO</h2>

<em>
<a href="v.class.html">v.class</a>,
<a href="d.vect.html">d.vect</a>,
<a href="d.graph.html">d.graph</a>,
<a href="v.univar.html">v.univar</a>
</em>

<p>
Check also Python module from
AddOns: <em><a href="https://grass.osgeo.org/grass7/manuals/addons/d.vect.thematic2.html">d.vect.thematic2</a></em>

<h2>AUTHOR</h2>

Moritz Lennert

<p>
<i>Last changed: $Date$</i>
